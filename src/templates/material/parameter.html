<div layout="column">
    <md-input-container flex ng-if="apiExplorer">
        <label ng-bind="param.name + (param.required ? ' (required)' : '')"></label>

        <div ng-if="param.in != 'body'" ng-switch="param.subtype">
            <input ng-switch-when="file" type="file" file-input ng-model="form[sum.sop.id][param.name]"
                   placeholder="{{param.required?'(required)':''}}" ng-required="param.required">

            <select ng-switch-when="enum" ng-model="form[sum.sop.id][param.name]">
                <option ng-repeat="value in param.enum" value="{{value}}"
                        ng-bind="value + (param.default == value ? ' (default)' : '')"
                        ng-selected="param.default == value"></option>
            </select>

            <input ng-switch-default type="text" ng-model="form[sum.sop.id][param.name]"
                   ng-required="param.required">
        </div>

        <div ng-if="param.in == 'body'">
            <textarea id="param{{param.id}}" ng-model="form[sum.sop.id][param.name]"
                      ng-required="param.required"></textarea>
        </div>
    </md-input-container>

    <div layout="row" style="padding-left: 4px; padding-right: 4px">
        <div class="md-body-1 sum-param-info" flex ng-bind-html="param.description" style="padding-right: 8px"></div>
        <div class="md-body-2 sum-param-info" layout="column">
            <div layout="row" layout-align="end">
                <div style="padding-right: 4px">in:</div>
                <div><em ng-bind-html="param.in"></em></div>
            </div>
            <div layout="row" ng-if="param.type" layout-align="end">
                <div style="padding-right: 4px">type:</div>
                <div ng-switch="param.type">
                    <code ng-switch-when="array" ng-bind="'Array['+param.items.type+']'"></code>
                    <code ng-switch-default ng-bind="param.type"></code>
                </div>
            </div>
        </div>
    </div>

    <div ng-if="(param.in == 'body') || param.schema" layout="row">
        <div flex>
            <md-input-container ng-if="param.in == 'body'">
                <md-select aria-label="parameter type" ng-model="form[sum.sop.id].contentType">
                    <md-option ng-repeat="item in sum.sop.consumes track by item" value="{{item}}" ng-bind="::item">
                    </md-option>
                </md-select>
            </md-input-container>
        </div>
        <div class="sum-tools-in" ng-if="param.schema">
            <a class="md-button md-primary"
               ng-click="form[sum.sop.id][param.name] = param.schema.json">Set</a>
            <a class="md-button md-primary"
               ng-click="param.schema.display = !param.schema.display + 0"
               ng-bind="param.schema.display ? 'Model' : 'Example'"></a>
        </div>
    </div>

    <pre class="sum-wrap sum-no-margin" ng-if="param.schema.display == 0 && param.schema.model"
         ng-bind-html="param.schema.model"></pre>
    <pre class="sum-no-margin" ng-if="param.schema.display == 1 && param.schema.json"
         ng-bind="param.schema.json"></pre>

    <div ng-if="!apiExplorer">
        <div ng-if="param.in != 'body'">
            <div ng-if="param.default"><span ng-bind="param.default"></span> (default)</div>
            <div ng-if="param.enum">
                <span ng-repeat="value in param.enum track by $index">{{value}}<span ng-if="!$last"> or </span></span>
            </div>
            <div ng-if="param.required">(required)</div>
        </div>
    </div>
</div>
