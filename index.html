<!doctype html>
<html ng-app="myApp">
<head>
    <meta charset="utf-8">
    <title>angular-swagger-ui-material demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>

    <!-- styles CDN -->
    <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">
    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/angular_material/1.0.5/angular-material.min.css">

    <!-- inject:css -->
    <link rel="stylesheet" href="./github-markdown.min.css">
    <link rel="stylesheet" href="./swagger-ui-material.min.css">
    <!-- endinject -->
</head>
<body ng-controller="MyCtrl" layout="column">
<div layout="row"
     flex
     swagger-ui-material
     swagger-methods="swaggerMethods"
     url="swaggerUrl"
     loading="isLoading"
     api-explorer="true"
     trusted-sources="false"
     error-handler="myErrorHandler"
     permalinks="true"></div>

<!-- scripts CDN -->
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-animate.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-aria.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-messages.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angular_material/1.0.5/angular-material.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-sanitize.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/showdown/1.3.0/showdown.min.js"></script>

<!-- inject:js -->
<script src="./markdown.js"></script>
<script src="./swagger-markdown.min.js"></script>
<script src="./swagger-sort.min.js"></script>
<script src="./swagger-ui-material.full.min.js"></script>
<!-- endinject -->

<script type="text/javascript">
    angular.module('myApp', ['swaggerUiMaterial', 'swaggerUiMarkdown', 'swaggerUiSort'])
        .config(function ($mdThemingProvider) {
            $mdThemingProvider
                .theme('default')
                .warnPalette('amber')
                .primaryPalette('teal')
                .accentPalette('grey');
        })
        .controller('MyCtrl', function ($scope, $location, $mdToast) {
            $scope.isLoading = false;
            $scope.swaggerUrl = $location.search()['url'] || 'http://petstore.swagger.io/v2/swagger.json';

            <!-- TODO: swaggerMethods should have deafault values -->
            $scope.swaggerMethods = {
                'get': 'md-primary',
                post: 'md-accent',
                put: 'md-accent md-hue-2',
                head: 'md-primary md-hue-2',
                'delete': 'md-warn',
                patch: 'md-accent md-hue-2'
            };

            // error management
            $scope.myErrorHandler = function (data, status) {
                $mdToast.show($mdToast.simple().textContent('Failed to load :-('));
                console.error(status, data);
            };
        });
</script>
</body>
</html>
